{"version":3,"file":"KeyExchangeSubscriber.js","sourceRoot":"","sources":["../../../../src/stream/encryption/KeyExchangeSubscriber.ts"],"names":[],"mappings":"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"}